<!DOCTYPE html>
<html>
<head>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.3/Tone.js'></script>
  <title>Theremin Sim</title>
  <style type="text/css">
    #container {
      height: 100px;
      border: 5px solid black;
      margin:0 auto;
    }
    .whitenote {
      height:100%;
      --widthA: calc(100% - 36px);
      width: calc(var(--widthA) / 36);
      float:left;
      border-right:1px solid black;
    }
    .cameraDiv {

    }
    .camera-container {
      float: none;
      width: 100%;
      height: 50%;
      border: 1px solid black;
    }

  </style>
</head>
<body>
  <div id='container'></div>
   <div class="cameraDiv">
    <p><strong>Video</strong></p>
    <div class="camera-container">
      <video id="video"autoplay="true">
      </video>
    </div>
    <button id="capture" type="button" class="btn btn-outline-primary btn-lg">Take Video</button>
  </div>
  <script type="text/javascript">
    //How to make sound more like theremin(???) email google?
    var osc;
    var counter = 0
    var notes = ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B']
    var hasSharp = true;
    var html = "";
    for(var octave = 0; octave < 3; octave ++) {
      for (var i = 0; i<notes.length; i++) {
        let octaveSign = octave + 3;
        let data = notes[i] + octaveSign;
        html += '<div class="whitenote" onmouseover="noteDown(this)" onmouseout="noteUp(this)" data-note ='+data+' >';
        html += data+'</div>'
      }
    }
    document.getElementById('container').innerHTML = html;
    function noteDown(elem) {
      var note = elem.dataset.note;
      osc = new Tone.Oscillator(note, "square").toDestination();
      osc.start();
      function onMouseOver(event) {
        osc.volume.value = -48+0.12*(210-event.clientY);
      }
      document.addEventListener("mousemove", onMouseOver);
    }
    function noteUp(elem) {
      osc.stop();
    }

  </script>
</body>
</html>